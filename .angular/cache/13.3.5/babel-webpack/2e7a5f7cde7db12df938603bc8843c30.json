{"ast":null,"code":"import _asyncToGenerator from \"/home/ramon/Desktop/Institut Lacet\\xE0nia/S\\xEDntesi/Projecte/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { importJWK } from '../key/import.js';\nimport isObject from '../lib/is_object.js';\nimport { JWSInvalid } from '../util/errors.js';\nexport function EmbeddedJWK(_x, _x2) {\n  return _EmbeddedJWK.apply(this, arguments);\n}\n\nfunction _EmbeddedJWK() {\n  _EmbeddedJWK = _asyncToGenerator(function* (protectedHeader, token) {\n    const joseHeader = { ...protectedHeader,\n      ...token.header\n    };\n\n    if (!isObject(joseHeader.jwk)) {\n      throw new JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a JSON object');\n    }\n\n    const key = yield importJWK({ ...joseHeader.jwk,\n      ext: true\n    }, joseHeader.alg, true);\n\n    if (key instanceof Uint8Array || key.type !== 'public') {\n      throw new JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a public key');\n    }\n\n    return key;\n  });\n  return _EmbeddedJWK.apply(this, arguments);\n}","map":{"version":3,"sources":["/home/ramon/Desktop/Institut Lacetània/Síntesi/Projecte/node_modules/jose/dist/browser/jwk/embedded.js"],"names":["importJWK","isObject","JWSInvalid","EmbeddedJWK","protectedHeader","token","joseHeader","header","jwk","key","ext","alg","Uint8Array","type"],"mappings":";AAAA,SAASA,SAAT,QAA0B,kBAA1B;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,gBAAsBC,WAAtB;AAAA;AAAA;;;mCAAO,WAA2BC,eAA3B,EAA4CC,KAA5C,EAAmD;AACtD,UAAMC,UAAU,GAAG,EACf,GAAGF,eADY;AAEf,SAAGC,KAAK,CAACE;AAFM,KAAnB;;AAIA,QAAI,CAACN,QAAQ,CAACK,UAAU,CAACE,GAAZ,CAAb,EAA+B;AAC3B,YAAM,IAAIN,UAAJ,CAAe,6DAAf,CAAN;AACH;;AACD,UAAMO,GAAG,SAAST,SAAS,CAAC,EAAE,GAAGM,UAAU,CAACE,GAAhB;AAAqBE,MAAAA,GAAG,EAAE;AAA1B,KAAD,EAAmCJ,UAAU,CAACK,GAA9C,EAAmD,IAAnD,CAA3B;;AACA,QAAIF,GAAG,YAAYG,UAAf,IAA6BH,GAAG,CAACI,IAAJ,KAAa,QAA9C,EAAwD;AACpD,YAAM,IAAIX,UAAJ,CAAe,4DAAf,CAAN;AACH;;AACD,WAAOO,GAAP;AACH,G","sourcesContent":["import { importJWK } from '../key/import.js';\nimport isObject from '../lib/is_object.js';\nimport { JWSInvalid } from '../util/errors.js';\nexport async function EmbeddedJWK(protectedHeader, token) {\n    const joseHeader = {\n        ...protectedHeader,\n        ...token.header,\n    };\n    if (!isObject(joseHeader.jwk)) {\n        throw new JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a JSON object');\n    }\n    const key = await importJWK({ ...joseHeader.jwk, ext: true }, joseHeader.alg, true);\n    if (key instanceof Uint8Array || key.type !== 'public') {\n        throw new JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a public key');\n    }\n    return key;\n}\n"]},"metadata":{},"sourceType":"module"}