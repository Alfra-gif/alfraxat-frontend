{"ast":null,"code":"import { LOCALE_ID } from '@angular/core';\nimport { formatDate } from '@angular/common';\nimport { Chat } from '../models/chat';\nimport { User } from '../models/user';\nimport { timer, switchMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-cookie-service\";\nimport * as i4 from \"../server-list/server-list.component\";\nimport * as i5 from \"../friend-list/friend-list.component\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nconst _c0 = [\"target\"];\n\nfunction XatComponent_div_11_div_1_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"a\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"href\", message_r6[1], i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r6[1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r6[2]);\n  }\n}\n\nfunction XatComponent_div_11_div_1_div_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r6[1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r6[2]);\n  }\n}\n\nfunction XatComponent_div_11_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 17);\n    i0.ɵɵelement(2, \"path\", 18);\n    i0.ɵɵelement(3, \"path\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, XatComponent_div_11_div_1_div_1_div_4_Template, 5, 3, \"div\", 7);\n    i0.ɵɵtemplate(5, XatComponent_div_11_div_1_div_1_div_5_Template, 5, 2, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", message_r6[3] == true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r6[3] == false);\n  }\n}\n\nfunction XatComponent_div_11_div_1_div_3_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"a\", 25);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 26);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"href\", message_r6[1], i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r6[1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r6[2]);\n  }\n}\n\nfunction XatComponent_div_11_div_1_div_3_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 27);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r6[1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r6[2]);\n  }\n}\n\nfunction XatComponent_div_11_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 23);\n    i0.ɵɵelement(2, \"path\", 24);\n    i0.ɵɵelement(3, \"path\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, XatComponent_div_11_div_1_div_3_div_4_Template, 5, 3, \"div\", 7);\n    i0.ɵɵtemplate(5, XatComponent_div_11_div_1_div_3_div_5_Template, 5, 2, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", message_r6[3] == true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r6[3] == false);\n  }\n}\n\nfunction XatComponent_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, XatComponent_div_11_div_1_div_1_Template, 6, 2, \"div\", 14);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtemplate(3, XatComponent_div_11_div_1_div_3_Template, 6, 2, \"div\", 15);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r6[0] == ctx_r5.token._id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", message_r6[0] == ctx_r5.id);\n  }\n}\n\nfunction XatComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, XatComponent_div_11_div_1_Template, 5, 2, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.chat.messages);\n  }\n}\n\nfunction XatComponent_div_12_div_1_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"a\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r20 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"href\", message_r20[1], i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r20[1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r20[2]);\n  }\n}\n\nfunction XatComponent_div_12_div_1_div_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r20 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r20[1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r20[2]);\n  }\n}\n\nfunction XatComponent_div_12_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 17);\n    i0.ɵɵelement(2, \"path\", 18);\n    i0.ɵɵelement(3, \"path\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, XatComponent_div_12_div_1_div_1_div_4_Template, 5, 3, \"div\", 7);\n    i0.ɵɵtemplate(5, XatComponent_div_12_div_1_div_1_div_5_Template, 5, 2, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r20 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", message_r20[3] == true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r20[3] == false);\n  }\n}\n\nfunction XatComponent_div_12_div_1_div_3_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"a\", 25);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 27);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r20 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"href\", message_r20[1], i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(message_r20[1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r20[2]);\n  }\n}\n\nfunction XatComponent_div_12_div_1_div_3_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 27);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r20 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r20[1]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r20[2]);\n  }\n}\n\nfunction XatComponent_div_12_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 23);\n    i0.ɵɵelement(2, \"path\", 24);\n    i0.ɵɵelement(3, \"path\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, XatComponent_div_12_div_1_div_3_div_4_Template, 5, 3, \"div\", 7);\n    i0.ɵɵtemplate(5, XatComponent_div_12_div_1_div_3_div_5_Template, 5, 2, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r20 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", message_r20[3] == true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r20[3] == false);\n  }\n}\n\nfunction XatComponent_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, XatComponent_div_12_div_1_div_1_Template, 6, 2, \"div\", 14);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtemplate(3, XatComponent_div_12_div_1_div_3_Template, 6, 2, \"div\", 15);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r20 = ctx.$implicit;\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r20[0] == ctx_r19.token._id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", message_r20[0] == ctx_r19.id);\n  }\n}\n\nfunction XatComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, XatComponent_div_12_div_1_Template, 5, 2, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.chat.messages);\n  }\n}\n\nexport let XatComponent = /*#__PURE__*/(() => {\n  class XatComponent {\n    constructor(_userService, _route, _router, _cookieService, locale) {\n      this._userService = _userService;\n      this._route = _route;\n      this._router = _router;\n      this._cookieService = _cookieService;\n      this.locale = locale;\n      this.user = new User(\"\", \"\", \"\", \"\", [], \"\", \"\", new Date(), \"\", []);\n      this.chat = new Chat(\"\", [], [], new Date());\n      this.friends_array = [];\n      this.final_friends_array = [];\n      this.friend = new User(\"\", \"\", \"\", \"\", [], \"\", \"\", new Date(), \"\", []);\n      this.id = \"\";\n      this.formatted_date = new Date();\n    }\n\n    scrollToElement(el) {\n      setTimeout(() => {\n        //console.log(el)\n        this.myScrollContainer.nativeElement.scroll({\n          top: this.myScrollContainer.nativeElement.scrollHeight,\n          behavior: 'smooth'\n        });\n      }, 100);\n    }\n\n    ngOnInit() {\n      this.token = JSON.parse(atob(this._cookieService.get(\"userToken\").split('.')[1])).user;\n      setTimeout(() => {\n        this._route.paramMap.subscribe(params => {\n          this.id = params.get('id');\n\n          this._userService.get_user(this.id).subscribe(response => {\n            this.friend = response.user;\n          });\n\n          this.chat.username = this.token.username;\n          this.chat.users_array = [this.token._id, this.id];\n        });\n\n        this.subscription = timer(0, 1000).pipe(switchMap(() => this._userService.create_chat(this.chat))).subscribe(response => {\n          this.chat = response.chat;\n        });\n      }, 200);\n    }\n\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n\n    onSubmit() {\n      const pattern = /^[^\\s].*/;\n      let result = pattern.test(this.user.message);\n      const pattern2 = /[A-Za-z]+:\\/\\/[A-Za-z0-9\\-_]+\\.[A-Za-z0-9\\-_:%&;\\?\\#\\/.=]+/;\n      let result2 = pattern2.test(this.user.message); //console.log(result2)\n\n      if (result) {\n        this.formatted_date = formatDate(new Date(), 'EEEE, MMMM d, y h:mm:ss', this.locale);\n        this.chat.message = this.user.message;\n        this.chat.messages.push([this.token._id, this.chat.message, this.formatted_date, result2]);\n\n        this._userService.insert_messages(this.chat).subscribe(response => {});\n\n        this.user.message = \"\";\n      }\n    }\n\n  }\n\n  XatComponent.ɵfac = function XatComponent_Factory(t) {\n    return new (t || XatComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CookieService), i0.ɵɵdirectiveInject(LOCALE_ID));\n  };\n\n  XatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: XatComponent,\n    selectors: [[\"app-xat\"]],\n    viewQuery: function XatComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.myScrollContainer = _t.first);\n      }\n    },\n    decls: 18,\n    vars: 7,\n    consts: [[3, \"input\", \"input2\"], [1, \"home\"], [1, \"upper-chat\"], [1, \"inner-upper-chat\"], [1, \"tag\"], [1, \"xat\"], [\"target\", \"\"], [4, \"ngIf\"], [1, \"message-box\"], [\"method\", \"POST\", 3, \"submit\", \"click\"], [\"form_post\", \"ngForm\"], [\"autocomplete\", \"off\", \"type\", \"text\", \"name\", \"message\", \"required\", \"\", 1, \"message\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\"], [\"message\", \"ngModel\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"sent-message\", 4, \"ngIf\"], [\"class\", \"recieved-message\", 4, \"ngIf\"], [1, \"sent-message\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"20\", \"height\", \"20\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-chat-right-text\", \"sent-icon\"], [\"d\", \"M2 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h9.586a2 2 0 0 1 1.414.586l2 2V2a1 1 0 0 0-1-1H2zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z\"], [\"d\", \"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"], [\"target\", \"_blank\", 1, \"sent-inner-message\", 3, \"href\"], [1, \"sent-inner-message\"], [1, \"recieved-message\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"20\", \"height\", \"20\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-chat-left-text\", \"recieved-icon\"], [\"d\", \"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"], [\"target\", \"_blank\", 1, \"recieved-inner-message\", 3, \"href\"], [1, \"inner-message\"], [1, \"recieved-inner-message\"]],\n    template: function XatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r33 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelement(0, \"app-server-list\", 0);\n        i0.ɵɵelement(1, \"app-friend-list\");\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"p\", 3);\n        i0.ɵɵelementStart(5, \"span\", 4);\n        i0.ɵɵtext(6, \"@\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 5, 6);\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵtemplate(11, XatComponent_div_11_Template, 2, 1, \"div\", 7);\n        i0.ɵɵtemplate(12, XatComponent_div_12_Template, 2, 1, \"div\", 7);\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵelementStart(14, \"form\", 9, 10);\n        i0.ɵɵlistener(\"submit\", function XatComponent_Template_form_submit_14_listener() {\n          return ctx.onSubmit();\n        })(\"submit\", function XatComponent_Template_form_submit_14_listener() {\n          i0.ɵɵrestoreView(_r33);\n\n          const _r0 = i0.ɵɵreference(9);\n\n          return ctx.scrollToElement(_r0);\n        })(\"click\", function XatComponent_Template_form_click_14_listener() {\n          i0.ɵɵrestoreView(_r33);\n\n          const _r0 = i0.ɵɵreference(9);\n\n          return ctx.scrollToElement(_r0);\n        });\n        i0.ɵɵelementStart(16, \"input\", 11, 12);\n        i0.ɵɵlistener(\"ngModelChange\", function XatComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.user.message = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"input\", ctx.id)(\"input2\", ctx.chat);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.friend.username);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.chat.users_array[0] == ctx.token._id && ctx.chat.users_array[1] == ctx.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.chat.users_array[1] == ctx.token._id && ctx.chat.users_array[0] == ctx.id);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate1(\"placeholder\", \"Send message to \", ctx.friend.username, \"\");\n        i0.ɵɵproperty(\"ngModel\", ctx.user.message);\n      }\n    },\n    directives: [i4.ServerListComponent, i5.FriendListComponent, i6.NgIf, i6.NgForOf, i7.ɵNgNoValidate, i7.NgControlStatusGroup, i7.NgForm, i7.DefaultValueAccessor, i7.RequiredValidator, i7.NgControlStatus, i7.NgModel],\n    styles: [\"\"]\n  });\n  return XatComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}